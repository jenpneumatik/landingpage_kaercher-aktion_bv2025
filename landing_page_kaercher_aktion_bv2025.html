<!DOCTYPE html>
<html lang="de">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bestellformular: Kärcher Bauernverbandsaktion 2025 - jenpneumatik GmbH</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f7f7f7;
            color: #333;
        }
        .container {
            max-width: 1100px;
            margin: 20px auto;
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }
        .intro { text-align: center; padding: 20px 0; }
        .intro h2 { color: #6d757c; margin-bottom: 10px; }
        .intro p { font-size: 1.1em; color: #555; }
        .section {
            background-color: #fff;
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 25px;
            border: 1px solid #e9e9e9;
        }
        .section h3 {
            color: #70a0c9;
            margin-top: 0;
            border-bottom: 2px solid #70a0c9;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .product-table { width: 100%; border-collapse: collapse; font-size: 15px; }
        .product-table th, .product-table td { padding: 15px 10px; text-align: left; border-bottom: 1px solid #eee; }
        .product-table th { font-size: 0.85em; color: #555; text-transform: uppercase; }
        .product-name { font-weight: bold; }
        .remarks { font-size: 0.9em; color: #666; }
        .price { font-weight: bold; color: #000; font-size: 1.1em; white-space: nowrap; }
        .savings { color: #28a745; font-weight: bold; white-space: nowrap; }
        .order-nr { font-family: monospace, monospace; color: #555; }
        .quantity-input { width: 70px; padding: 8px; text-align: center; border: 1px solid #ccc; border-radius: 5px; }
        .new-badge { background-color: #70a0c9; color: white; padding: 3px 8px; border-radius: 4px; font-size: 0.8em; margin-left: 5px; }
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .form-group { display: flex; flex-direction: column; }
        .form-group label { margin-bottom: 6px; font-weight: bold; color: #555; }
        .form-group input { padding: 10px; border: 1px solid #ccc; border-radius: 5px; font-size: 16px; }
        .actions { text-align: center; padding-top: 20px; }
        .btn { padding: 12px 25px; border: none; border-radius: 5px; cursor: pointer; font-size: 16px; margin: 5px; text-decoration: none; display: inline-block; transition: background-color 0.2s; }
        .btn-primary { background-color: #70a0c9; color: white; }
        .btn-primary:hover { background-color: #5a8cb5; }
        .btn-secondary { background-color: #6d757c; color: white; }
        .btn-secondary:hover { background-color: #575e63; }
        .btn-tertiary { background-color: #f2f2f2; color: #333; border: 1px solid #ccc; }
        .btn-tertiary:hover { background-color: #e2e2e2; }
        .footer { text-align: center; font-size: 14px; color: #666; border-top: 1px solid #eee; padding-top: 20px; margin-top: 20px; }
        @media (max-width: 900px) {
            .form-grid { grid-template-columns: 1fr; }
            .container { padding: 20px; }
            .product-table th, .product-table td { padding: 10px 5px; }
        }
    </style>
</head>
<body>

    <div class="container">
        <section class="intro">
            <h2>Bestellformular: KÄRCHER Bauernverbandsaktion 2025</h2>
            <p>Exklusives Angebot für Mitglieder der Bauern- und Winzerverbände.<br>Sollten Sie keine Verbandsnummer besitzen, kontaktieren Sie uns gerne direkt.<br>Gültig ab 29.08.2025, solange der Vorrat reicht.</p>
        </section>

        <section class="section">
            <h3>1. Produkte auswählen</h3>
            <div style="overflow-x: auto;">
            <table class="product-table" id="productTable">
                <thead>
                    <tr>
                        <th style="min-width: 80px;">Menge</th>
                        <th>Bezeichnung &amp; Anmerkungen</th>
                        <th style="min-width: 110px;">Bestell-Nr.</th>
                        <th style="min-width: 100px;">Aktionspreis<br><small>in € inkl. 19% MwSt.</small></th>
                        <th style="min-width: 100px;">Ersparnis<br><small>in € inkl. 19% MwSt.</small></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><input type="number" min="0" class="quantity-input" placeholder="0"></td>
                        <td data-name="Kaltwasser-Hochdruckreiniger HD 10/21-4 S Plus Farmer"><div class="product-name">Kaltwasser-Hochdruckreiniger HD 10/21-4 S Plus Farmer</div><div class="remarks">Inkl. Servo-Control-Regler und Dreckfräser, mit 10 m HD-Schlauch (ohne Schlauchtrommel)</div></td>
                        <td class="order-nr" data-number="1.286-958.0">1.286-958.0</td><td class="price">1.799,- €</td><td class="savings">550,- €</td>
                    </tr>
                    <tr>
                        <td><input type="number" min="0" class="quantity-input" placeholder="0"></td>
                        <td data-name="Kaltwasser-Hochdruckreiniger HD 10/21-4 SX Plus Farmer"><div class="product-name">Kaltwasser-Hochdruckreiniger HD 10/21-4 SX Plus Farmer</div><div class="remarks">Inkl. Servo-Control-Regler und Dreckfräser, mit 20 m HD-Schlauch auf manueller Schlauchtrommel</div></td>
                        <td class="order-nr" data-number="1.286-977.0">1.286-977.0</td><td class="price">1.899,- €</td><td class="savings">700,- €</td>
                    </tr>
                    <!-- ... alle anderen Produktreihen ... -->
                    <tr>
                        <td><input type="number" min="0" class="quantity-input" placeholder="0"></td>
                        <td data-name="Testpaket Reinigungsmittel (4 x 10 l)"><div class="product-name">Testpaket Reinigungsmittel (4 x 10 l)</div><div class="remarks">RM 91 Agri, RM 92 Agri, RM 93 Agri, RM 82N (FiBL)</div></td>
                        <td class="order-nr" data-number="9.702-414.0">9.702-414.0</td><td class="price">179,- €</td><td class="savings">110,- €</td>
                    </tr>
                </tbody>
            </table>
            </div>
        </section>

        <section class="section">
            <h3>2. Ihre Bestelldaten</h3>
            <div class="form-grid">
                <div class="form-group"><label for="name">Name / Firma</label><input type="text" id="name" required=""></div>
                <div class="form-group"><label for="verband">Bauern-/Winzerverband</label><input type="text" id="verband"></div>
                <div class="form-group"><label for="strasse">Straße und Hausnummer</label><input type="text" id="strasse" required=""></div>
                <div class="form-group"><label for="mitgliedsnummer">BV-Mitglieds-Nummer</label><input type="text" id="mitgliedsnummer"></div>
                <div class="form-group"><label for="ort">PLZ und Ort</label><input type="text" id="ort" required=""></div>
                <div class="form-group"><label for="tel">Telefon</label><input type="tel" id="tel" required=""></div>
                <div class="form-group"><label for="email">E-Mail</label><input type="email" id="email" required=""></div>
            </div>
        </section>

        <div class="actions">
            <button id="printButton" class="btn btn-secondary">Formular Drucken</button>
            <button id="emailButton" class="btn btn-primary">Bestellung per E-Mail senden</button>
            <a href="https://www.jenpneumatik.de/" target="_blank" class="btn btn-tertiary">Zur jenpneumatik Webseite</a>
        </div>

        <footer class="footer">
            <p><strong>jenpneumatik &amp; Schlauchtechnik GmbH</strong><br>
            Ernst-Ruska-Ring 31 • 07745 Jena<br>
            Tel: +49 (0) 3641 3563-0 • E-Mail: mail@jenpneumatik.de</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Funktion für den Druck-Button
            document.getElementById('printButton').addEventListener('click', () => {
                window.print();
            });

            // Funktion für den E-Mail-Button
            document.getElementById('emailButton').addEventListener('click', () => {
                // 1. Bestelldaten sammeln
                let orderSummary = '';
                let hasProducts = false;
                const productRows = document.querySelectorAll('#productTable tbody tr');
                
                productRows.forEach(row => {
                    const quantityInput = row.querySelector('.quantity-input');
                    const quantity = parseInt(quantityInput.value, 10) || 0;
                    if (quantity > 0) {
                        hasProducts = true;
                        const name = row.querySelector('[data-name]').getAttribute('data-name');
                        const number = row.querySelector('[data-number]').getAttribute('data-number');
                        orderSummary += `${quantity}x - ${name} (Art.-Nr.: ${number})\n`;
                    }
                });

                if (!hasProducts) {
                    alert('Bitte geben Sie für mindestens einen Artikel eine Menge an.');
                    return;
                }

                // 2. Kontaktdaten sammeln
                const contactDetails = {
                    name: document.getElementById('name').value,
                    verband: document.getElementById('verband').value,
                    mitgliedsnummer: document.getElementById('mitgliedsnummer').value,
                    strasse: document.getElementById('strasse').value,
                    ort: document.getElementById('ort').value,
                    tel: document.getElementById('tel').value,
                    email: document.getElementById('email').value,
                };

                if (!contactDetails.name || !contactDetails.strasse || !contactDetails.ort || !contactDetails.email) {
                    alert('Bitte füllen Sie die erforderlichen Felder aus (Name, Straße, Ort, E-Mail).');
                    return;
                }

                // 3. E-Mail zusammenbauen
                const recipient = 'mail@jenpneumatik.de';
                const subject = 'Bestellung - Kärcher Bauernverbandsaktion 2025';
                let body = 'Sehr geehrte Damen und Herren,\n\nhiermit bestelle ich verbindlich die folgenden Artikel aus der Kärcher Bauernverbandsaktion 2025:\n\n';
                body += '-------------------------------------------------\n';
                body += orderSummary;
                body += '-------------------------------------------------\n\n';
                body += 'Liefer- und Rechnungsadresse:\n';
                body += `${contactDetails.name}\n`;
                body += `${contactDetails.strasse}\n`;
                body += `${contactDetails.ort}\n\n`;
                body += `E-Mail: ${contactDetails.email}\n`;
                body += `Telefon: ${contactDetails.tel}\n\n`;
                if (contactDetails.verband) body += `Bauern-/Winzerverband: ${contactDetails.verband}\n`;
                if (contactDetails.mitgliedsnummer) body += `BV-Mitglieds-Nummer: ${contactDetails.mitgliedsnummer}\n`;
                body += '\nMit freundlichen Grüßen\n';
                body += contactDetails.name;

                // 4. Mailto-Link erstellen und öffnen (Standard-Methode)
                const mailtoLink = `mailto:${recipient}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
                window.location.href = mailtoLink;
            });
        });
    </script>

</body>
</html>